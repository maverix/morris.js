(function(){var n,t,i=function(n,t){return function(){return n.apply(t,arguments)}},r={}.hasOwnProperty,u=function(n,t){function u(){this.constructor=n}for(var i in t)r.call(t,i)&&(n[i]=t[i]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n},f=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};Morris.Line=function(n){function t(n){if(this.hilight=i(this.hilight,this),this.onHoverOut=i(this.onHoverOut,this),this.onHoverMove=i(this.onHoverMove,this),this.onGridClick=i(this.onGridClick,this),!(this instanceof Morris.Line))return new Morris.Line(n);t.__super__.constructor.call(this,n)}return u(t,n),t.prototype.init=function(){if(this.pointGrow=Raphael.animation({r:this.options.pointSize+3},25,"linear"),this.pointShrink=Raphael.animation({r:this.options.pointSize},25,"linear"),this.options.hideHover!=="always"){this.hover=new Morris.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}},t.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,continuousLine:!0,hideHover:!1},t.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},t.prototype.calcPoints=function(){var n,t,i,f,r,u;for(r=this.data,u=[],i=0,f=r.length;i<f;i++)n=r[i],n._x=this.transX(n.x),n._y=function(){var i,f,u,r;for(u=n.y,r=[],i=0,f=u.length;i<f;i++)t=u[i],t!=null?r.push(this.transY(t)):r.push(t);return r}.call(this),u.push(n._ymax=Math.min.apply(null,[this.bottom].concat(function(){var i,f,r,u;for(r=n._y,u=[],i=0,f=r.length;i<f;i++)t=r[i],t!=null&&u.push(t);return u}())));return u},t.prototype.hitTest=function(n){var t,u,i,f,r;if(this.data.length===0)return null;for(r=this.data.slice(1),t=i=0,f=r.length;i<f;t=++i)if(u=r[t],n<(u._x+this.data[t]._x)/2)break;return t},t.prototype.onGridClick=function(n,t){var i;return i=this.hitTest(n,t),this.fire("click",i,this.options.data[i],n,t)},t.prototype.onHoverMove=function(n,t){var i;return i=this.hitTest(n,t),this.displayHoverForRow(i)},t.prototype.onHoverOut=function(){if(this.options.hideHover!==!1)return this.displayHoverForRow(null)},t.prototype.displayHoverForRow=function(n){var t;return n!=null?((t=this.hover).update.apply(t,this.hoverContentForRow(n)),this.hilight(n)):(this.hover.hide(),this.hilight())},t.prototype.hoverContentForRow=function(n){var i,r,t,u,f,o,e;for(t=this.data[n],i="<div class='morris-hover-row-label'>"+t.label+"<\/div>",e=t.y,r=f=0,o=e.length;f<o;r=++f)u=e[r],u>0&&(i+="<div class='morris-hover-point' style='color: "+this.colorFor(t,r,"label")+"'>\n    "+this.options.labels[r]+":\n    "+this.yLabelFormat(u)+"\n<\/div>");return typeof this.options.hoverCallback=="function"&&(i=this.options.hoverCallback(n,this.options,i)),[i,t._x,t._ymax]},t.prototype.generatePaths=function(){var r,n,t,i,u;return this.paths=function(){var e,o,h,s;for(s=[],t=e=0,o=this.options.ykeys.length;0<=o?e<o:e>o;t=0<=o?++e:--e)u=this.options.smooth===!0||(h=this.options.ykeys[t],f.call(this.options.smooth,h)>=0),n=function(){var n,f,r,u;for(r=this.data,u=[],n=0,f=r.length;n<f;n++)i=r[n],i._y[t]!==void 0&&u.push({x:i._x,y:i._y[t]});return u}.call(this),this.options.continuousLine&&(n=function(){var t,u,i;for(i=[],t=0,u=n.length;t<u;t++)r=n[t],r.y!==null&&i.push(r);return i}()),n.length>1?s.push(Morris.Line.createPath(n,u,this.bottom)):s.push(null);return s}.call(this)},t.prototype.draw=function(){return this.options.axes&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},t.prototype.drawXAxis=function(){var s,f,t,i,r,e,h,u,c,o,n=this;for(h=this.bottom+this.options.padding/2,r=null,i=null,s=function(t,u){var e,f,o,s,c;return e=n.drawXAxisLabel(n.transX(u),h,t),c=e.getBBox(),e.transform("r"+-n.options.xLabelAngle),f=e.getBBox(),e.transform("t0,"+f.height/2+"..."),n.options.xLabelAngle!==0&&(s=-.5*c.width*Math.cos(n.options.xLabelAngle*Math.PI/180),e.transform("t"+s+",0...")),f=e.getBBox(),(!(r!=null)||r>=f.x+f.width||i!=null&&i>=f.x)&&f.x>=0&&f.x+f.width<n.el.width()?(n.options.xLabelAngle!==0&&(o=1.25*n.options.gridTextSize/Math.sin(n.options.xLabelAngle*Math.PI/180),i=f.x-o),r=f.x-n.options.xLabelMargin):e.remove()},t=this.options.parseTime?this.data.length===1&&this.options.xLabels==="auto"?[[this.data[0].label,this.data[0].x]]:Morris.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var n,r,t,i;for(t=this.data,i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push([e.label,e.x]);return i}.call(this),t.reverse(),o=[],u=0,c=t.length;u<c;u++)f=t[u],o.push(s(f[0],f[1]));return o},t.prototype.drawSeries=function(){var n,t,i,r,u,f;for(this.seriesPoints=[],n=t=r=this.options.ykeys.length-1;r<=0?t<=0:t>=0;n=r<=0?++t:--t)this._drawLineFor(n);for(f=[],n=i=u=this.options.ykeys.length-1;u<=0?i<=0:i>=0;n=u<=0?++i:--i)f.push(this._drawPointFor(n));return f},t.prototype._drawPointFor=function(n){var r,t,i,e,u,f;for(this.seriesPoints[n]=[],u=this.data,f=[],i=0,e=u.length;i<e;i++)t=u[i],r=null,t._y[n]!=null&&(r=this.drawLinePoint(t._x,t._y[n],this.options.pointSize,this.colorFor(t,n,"point"),n)),f.push(this.seriesPoints[n].push(r));return f},t.prototype._drawLineFor=function(n){var t;return t=this.paths[n],t!==null?this.drawLinePath(t,this.colorFor(null,n,"line")):void 0},t.createPath=function(n,t,i){var r,c,s,u,e,l,o,f,a,v,y,p,h,w;for(o="",t&&(s=Morris.Line.gradients(n)),f={y:null},u=h=0,w=n.length;h<w;u=++h)r=n[u],r.y!=null&&(f.y!=null?t?(c=s[u],l=s[u-1],e=(r.x-f.x)/4,a=f.x+e,y=Math.min(i,f.y+e*l),v=r.x-e,p=Math.min(i,r.y-e*c),o+="C"+a+","+y+","+v+","+p+","+r.x+","+r.y):o+="L"+r.x+","+r.y:t&&s[u]==null||(o+="M"+r.x+","+r.y)),f=r;return o},t.gradients=function(n){var f,e,i,r,u,o,s,t;for(e=function(n,t){return(n.y-t.y)/(n.x-t.x)},t=[],i=o=0,s=n.length;o<s;i=++o)f=n[i],f.y!=null?(r=n[i+1]||{y:null},u=n[i-1]||{y:null},u.y!=null&&r.y!=null?t.push(e(u,r)):u.y!=null?t.push(e(u,f)):r.y!=null?t.push(e(f,r)):t.push(null)):t.push(null);return t},t.prototype.hilight=function(n){var t,i,r,u,f;if(this.prevHilight!==null&&this.prevHilight!==n)for(t=i=0,u=this.seriesPoints.length-1;0<=u?i<=u:i>=u;t=0<=u?++i:--i)this.seriesPoints[t][this.prevHilight]&&this.seriesPoints[t][this.prevHilight].animate(this.pointShrink);if(n!==null&&this.prevHilight!==n)for(t=r=0,f=this.seriesPoints.length-1;0<=f?r<=f:r>=f;t=0<=f?++r:--r)this.seriesPoints[t][n]&&this.seriesPoints[t][n].animate(this.pointGrow);return this.prevHilight=n},t.prototype.colorFor=function(n,t,i){return typeof this.options.lineColors=="function"?this.options.lineColors.call(this,n,t,i):i==="point"?this.options.pointFillColors[t%this.options.pointFillColors.length]||this.options.lineColors[t%this.options.lineColors.length]:this.options.lineColors[t%this.options.lineColors.length]},t.prototype.drawXAxisLabel=function(n,t,i){return this.raphael.text(n,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},t.prototype.drawLinePath=function(n,t){return this.raphael.path(n).attr("stroke",t).attr("stroke-width",this.options.lineWidth)},t.prototype.drawLinePoint=function(n,t,i,r,u){return this.raphael.circle(n,t,i).attr("fill",r).attr("stroke-width",this.strokeWidthForSeries(u)).attr("stroke",this.strokeForSeries(u))},t.prototype.strokeWidthForSeries=function(n){return this.options.pointWidths[n%this.options.pointWidths.length]},t.prototype.strokeForSeries=function(n){return this.options.pointStrokeColors[n%this.options.pointStrokeColors.length]},t}(Morris.Grid),Morris.labelSeries=function(n,t,i,r,u){var e,a,v,y,s,h,f,c,o,p,l;if(v=200*(t-n)/i,a=new Date(n),f=Morris.LABEL_SPECS[r],f===void 0)for(l=Morris.AUTO_LABEL_ORDER,o=0,p=l.length;o<p;o++)if(y=l[o],h=Morris.LABEL_SPECS[y],v>=h.span){f=h;break}for(f===void 0&&(f=Morris.LABEL_SPECS.second),u&&(f=$.extend({},f,{fmt:u})),e=f.start(a),s=[];(c=e.getTime())<=t;)c>=n&&s.push([f.fmt(e),c]),f.incr(e);return s},n=function(n){return{span:n*6e4,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours())},fmt:function(n){return""+Morris.pad2(n.getHours())+":"+Morris.pad2(n.getMinutes())},incr:function(t){return t.setUTCMinutes(t.getUTCMinutes()+n)}}},t=function(n){return{span:n*1e3,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes())},fmt:function(n){return""+Morris.pad2(n.getHours())+":"+Morris.pad2(n.getMinutes())+":"+Morris.pad2(n.getSeconds())},incr:function(t){return t.setUTCSeconds(t.getUTCSeconds()+n)}}},Morris.LABEL_SPECS={decade:{span:1728e8,start:function(n){return new Date(n.getFullYear()-n.getFullYear()%10,0,1)},fmt:function(n){return""+n.getFullYear()},incr:function(n){return n.setFullYear(n.getFullYear()+10)}},year:{span:1728e7,start:function(n){return new Date(n.getFullYear(),0,1)},fmt:function(n){return""+n.getFullYear()},incr:function(n){return n.setFullYear(n.getFullYear()+1)}},month:{span:24192e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),1)},fmt:function(n){return""+n.getFullYear()+"-"+Morris.pad2(n.getMonth()+1)},incr:function(n){return n.setMonth(n.getMonth()+1)}},day:{span:864e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())},fmt:function(n){return""+n.getFullYear()+"-"+Morris.pad2(n.getMonth()+1)+"-"+Morris.pad2(n.getDate())},incr:function(n){return n.setDate(n.getDate()+1)}},hour:n(60),"30min":n(30),"15min":n(15),"10min":n(10),"5min":n(5),minute:n(1),"30sec":t(30),"15sec":t(15),"10sec":t(10),"5sec":t(5),second:t(1)},Morris.AUTO_LABEL_ORDER=["decade","year","month","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"]}).call(this)